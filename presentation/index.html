<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Monadic Logging and You</title>

		<meta name="description" content="Logging is more complicated than most people realize, and when they do, it's too late to do anything about it until 'next time.' Learn how to use a writer monad as a logging mechanism in your code. More importantly though, learn why you would want to do this, and what the benefits are.  There is a price to pay in adopting this approach, but it's more 'functional', addresses existing challenges, and enables new, exciting capabilities.">
		<meta name="author" content="Martin Snyder">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Monadic Logging and You</h1>
					<p>
						<small><a href="http://martinsnyder.net">Martin Snyder</a> / <a href="https://twitter.com/MartinSnyder">@MartinSnyder</a> / <a href="http://www.wingspan.com">Wingspan Technology, Inc.</a></small>
					</p>
					<aside class="notes">
					</aside>
				</section>

                <section>
                    <h2>Some Perils of Traditional Logging</h2>
                    <ul>
                        <li>Immediacy implies synchronization</li>
                        <li>Interleaved log entries are difficult to correlate</li>
                        <li>Identifying executing server in a cluster</li>
                        <li>Correlating logs across tiers</li>
                    </ul>
                    <aside class="notes">
                    </aside>
                </section>

                <section>
                    <h2>Peril #1 - Immediacy implies synchronization</h2>
                    <p>
                        A system has a transient problem.  A timing issue results in a fault or deadlock.
                        Logging is added to diagnose the problem, and it promptly becomes non-reproducible.
                    </p>
                    <aside class="notes">
                        <ul>
                            <li>Caused by conditional synchronization</li>
                            <li>Mitigate by removing immediacy</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Peril #2 - Interleaved log entries are difficult to correlate</h2>
                    <p>
                        A user in a multi-user system performs an action known to produce an unexpected behavior.
                        Tracing their execution through the log file is difficult because their log statements are
                        interleaved with log statements from other users.
                    </p>
                    <aside class="notes">
                        <ul>
                            <li>Mitigate by augmenting log entries with ThreadId, RequestId</li>
                            <li>Can introduce unnecessary code dependencies</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Peril #3 - Identifying executing server in a cluster</h2>
                    <p>
                        A user performs an action known to produce an unexpected behavior.
                        Because the production system involves a cluster of servers, multiple log files must be
                        downloaded and analyzed to find the activity of interest.
                    </p>
                    <aside class="notes">
                        <ul>
                            <li>Mitigate with centralized log system or Splunk</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Peril #4 - Correlating logs across tiers</h2>
                    <p>
                        A user performs an action known to produce an unexpected behavior.
                        The path of execution involves multiple server processes.  Tracing their execution
                        through the multiple systems is difficult because there is no reliable way to correlate
                        the log statements across systems.
                    </p>
                    <aside class="notes">
                        <ul>
                            <li>Mitigate by propagating RequestId</li>
                            <li>Mitigate by relying on time synchronization and aggregating</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Links</h2>
                    <ul>
                        <li>Slides & Sample Code: <a href="https://github.com/MartinSnyder/monadic-logging">https://github.com/MartinSnyder/monadic-logging</a></li>
                        <li>Northeast Scala Symposium: <a href="http://www.nescala.org/">http://www.nescala.org/</a></li>
                        <li>Blog: <a href="http://martinsnyder.net">http://martinsnyder.net</a></li>
                        <li>Reveal.js: <a href="http://lab.hakim.se/reveal-js/">http://lab.hakim.se/reveal-js/</a></li>
                    </ul>
                    <aside class="notes">
                    </aside>
                </section>

                <section>
                    <h2>Thank You!</h2>
                    <p>
                        <small><a href="http://martinsnyder.net">Martin Snyder</a> / <a href="https://twitter.com/MartinSnyder">@MartinSnyder</a> / <a href="http://www.wingspan.com">Wingspan Technology, Inc.</a></small>
                    </p>
                    <aside class="notes">
                    </aside>
                </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
